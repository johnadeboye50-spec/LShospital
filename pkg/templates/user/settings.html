{% extends "user/dashboard_layout.html" %}

{% block content %}
<main class="container-fluid px-4 py-4">

    <div class="row justify-content-center">
        <div class="col-lg-8 col-md-10">

            <div class="card border-0 rounded-4">
                <div class="card-header bg-white border-0 py-3 d-flex align-items-center">
                    <h6 class="m-0 fw-semibold">Account Settings</h6>
                    <i class="fas fa-gear ms-auto text-primary"></i>
                </div>

                <div class="card-body px-4 py-4">

                    <form method="POST" action="{{ url_for('update_patient_settings') }}" enctype="multipart/form-data">
                        {{ form.hidden_tag() }}

                        <!-- Profile Picture -->
                        <div class="text-center mb-4">
                            <img src="/static/uploads/patients/{{ deets.patient_profilepic or 'default_patient.png' }}"
                                class="rounded-circle mb-2" style="height:100px; width:100px; object-fit:cover;">
                            {{ form.picture(class_="form-control mt-2") }}
                        </div>

                        <!-- First Name -->
                        <div class="mt-4">
                            <label class="form-label fw-medium">{{ form.fname.label }}</label>
                            {{ form.fname(class_="form-control form-control-lg rounded-3", value=deets.patient_fname) }}
                        </div>

                        <!-- Last Name -->
                        <div class="mt-4">
                            <label class="form-label fw-medium">{{ form.lname.label }}</label>
                            {{ form.lname(class_="form-control form-control-lg rounded-3", value=deets.patient_lname) }}
                        </div>

                        <!-- Address -->
                        <div class="mt-4">
                            <label class="form-label fw-medium">{{ form.address.label }}</label>
                            {{ form.address(class_="form-control form-control-lg rounded-3",
                            value=deets.patient_address) }}
                        </div>

                        <!-- Phone -->
                        <div class="mt-4">
                            <label class="form-label fw-medium">{{ form.phone.label }}</label>
                            {{ form.phone(class_="form-control form-control-lg rounded-3", value=deets.phone_num) }}
                        </div>

                        <!-- Bio -->
                        <div class="mt-4">
                            <label class="form-label fw-medium">{{ form.bio.label }}</label>
                            {{ form.bio(class_="form-control form-control-lg rounded-3",
                            value=deets.patient_bio) }}
                        </div>

                        <!-- Save Button -->
                        <div class="mt-4 text-end">
                            {{ form.submit(class_="btn btn-primary btn-lg px-4 rounded-3 shadow-sm") }}
                        </div>

                    </form>

                </div>

            </div>

        </div>
    </div>

</main>
{% endblock %}